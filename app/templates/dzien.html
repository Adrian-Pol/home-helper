{% extends "base.html" %}
{% set body_class = "dzien" %}
{% block content %}

<h2 class="opis-tytul">{{ entry.folder_name }}</h2>

<div class="opis-blok">
    <h3>üìù Opis dnia:</h3>
</div>
<pre class="opis-tekst">{{ opis | e }}</pre>

<div class="zdjecia-blok">
    <h3>üì∑ Zdjƒôcia:</h3>
    <div class="image-show">
        {% for img in images %}
            <img src="/{{ img.image_path }}" alt="zdjƒôcie dnia" class="clickable-img" style="max-width: 200px; cursor: pointer; margin: 5px;">
        {% endfor %}
    </div>
</div>


<div id="imgModal" class="img-modal" style="display:none;">
    <span class="close" style="cursor:pointer; font-size: 30px; position: absolute; top: 15px; right: 30px;">&times;</span>
    <img class="modal-content" id="modalImg" style="max-width: 90vw; max-height: 90vh; display: block; margin: 50px auto;">
</div>

{% endblock %}

{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", function () {
  const modal = document.getElementById("imgModal");
  const modalImg = document.getElementById("modalImg");
  const images = document.querySelectorAll(".clickable-img");
  const closeBtn = modal.querySelector(".close");

  images.forEach(img => {
    img.addEventListener("click", () => {
      modal.style.display = "block";
      modal.classList.add("show");
      modalImg.src = img.src;
    });
  });

  closeBtn.onclick = function () {
    modal.classList.remove("show");
    modal.style.display = "none";
  };

  modal.onclick = function (e) {
    if (e.target === modal) {
      modal.classList.remove("show");
      modal.style.display = "none";
    }
  };
});
</script>
{% endblock %}
